<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SportElemzés</title>
  <link rel="stylesheet" href="/assets/style.css">
</head>
<body>
<header class="header-hero">
  <nav class="hero-nav">
    <a class="brand" href="/"><span>SportElemzés</span></a>
    <div class="links">
      <a class="active" href="/">Elemzések</a>
      <a href="/stats.html">Statisztika</a>
    </div>
  </nav>
  <div class="hero-inner">
    <h1>SportElemzés</h1>
    <p>Elemzések, adatok, eredmények – naponta frissítve</p>
  </div>
</header>

<main>
  <section>
    <h2>Friss elemzések</h2>
    <div id="list"></div>
  </section>
</main>

<footer class="muted" style="text-align:center;padding:24px 0">
  © <span id="y"></span> SportElemzés • <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a>
</footer>

<script>
  document.getElementById('y').textContent = new Date().getFullYear();
  const $ = s => document.querySelector(s);
  const fmt = d => {
    const [y,m,dd] = d.split('-');
    return `${y}. ${m}. ${dd}.`;
  };

  fetch('/posts/index.json?_=' + Date.now())
   .then(r=>r.json())
   .then(arr=>{
     const el = $('#list');
     if(!arr.length){ el.innerHTML = '<p class="muted">Még nincs bejegyzés.</p>'; return; }
     el.innerHTML = arr.map(p=>{
       const dateTxt = fmt(p.date);
       const timeTxt = p.time ? ` • ${p.time}` : '';
       const league  = p.league ? ` • ${p.league}` : '';
       return `
        <article class="card post-card">
          <h3><a href="/posts/${p.slug}.html">${p.title}</a></h3>
          <div class="muted">${dateTxt}${timeTxt}${league}</div>
          ${p.excerpt ? `<p style="margin-top:6px">${p.excerpt}</p>` : ''}
          <p style="margin-top:8px"><a href="/posts/${p.slug}.html">Tovább →</a></p>
        </article>`;
     }).join('');
   })
   .catch(_=>{
     $('#list').innerHTML = '<p class="muted">Nem sikerült betölteni a listát.</p>';
   });
</script>
</body>
</html>
